---
title: "The Impact of Urbanization, Culture, and Wealth on Public Art in Toronto"
author: 
  - Alaina Hu
thanks: "Code and data are available at: https://github.com/alainahu/starter_folder."
date: today
date-format: long
abstract: "First sentence. Second sentence. Third sentence. Fourth sentence."
format: pdf
toc: true
number-sections: true
# bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false

#install.packages("modelsummary")
#install.packages("sf")


library(tidyverse)
library(knitr)
library(kableExtra)
library(dplyr)
library(modelsummary)
library(ggplot2)
library(sf)

```


# Introduction

Public art installations, or art pieces available to the general public in public spaces can be found in many urban cities across the world. Installations can be found in
New York City, Chicago, London, and even Toronto. The city of Toronto has over 400 public art installations provided by two organizations, Public Arts & Monument Collection and the Percent for Public Art Program ("Public Art Map", 2024). Public art not only enhances the urban environment, but it also brings together visitors and residents with local culture and history, creating an educational and bonding experience (Barone, 2023). 

Public art design is heavily integrated with urban planning and development as a whole. It is crucial for overall public art design to consider the overall coordination of the environment, meaning that public art should consider and reflect the environment that it is in (Meng, 2022). Furthermore, public art is also an important symbol of maturity in a city (Liu, 2021). Thus, our research is interested in the factors that influence public art design and selection of location. We analyze the trend between urbanization, cultural diversity, and wealth on the locations of public art installations in Toronto. 

Our research paper begins with the Data section to visualize and further understand the variables we are examining. Next, we go into Discussion of the relationships between the data we are looking for. Finally, we end the paper with the Conclusion section, summarizing the takeaway and future of this research. 



# Data

Data for this research comes from Open Data Toronto, an open source data portal containing various topics of data for the city. 
For the data involved in this paper, we combine `Public Art` and `Ward Profiles (25-Ward Model)`
In order to examine urbanization, cultural diversity, and wealth, we use population, minority population, and average household income as the explanatory variables to represent these factors. To analyze this trend across Toronto, we look at the effect of population, minority population, and average household income on the number of public art installations across the 25 wards of Toronto. 

## Public Art
The Public Art raw dataset includes information such as the source, artist, title, medium, installation year, and ward location on the 409 public art pieces
in Toronto. Since we are only interested in the art pieces and their respective
ward location, we focus on these two aspects of the data. Table 1, shows the part of the public art data we focus on.
\vspace{10mm}

```{r}
#| label: cleaned_art
#| tbl-cap: Sample of cleaned public art data
#| echo: false
art_data <- read_csv("/cloud/project/outputs/data/cleaned_art_data.csv", show_col_types = FALSE)

art_data |>
  slice(1:5) |>
  kable(col.names = c("Art ID", "Ward", "Ward Name")) |>
  kable_styling(latex_options = c("hold_position"))

```

## Ward Profiles (25-Ward Model)

In the 25-Ward model, the city of Toronto is separated into 25 neighborhoods or
voting districts. To better understand the effect of urbanization, cultural diversity, and wealth on the location of public art pieces, we compare the effect
of population, minority population, income on the number of art works across the 
25 wards. The `Ward Profiles (25-Ward Model)` data contains demographic, social, and economic information for each ward such as population, households, families, education, ethnocultural composition, spoken languages, income and housing costs. For our purpose of research, we are interested in population, minority population, and average income of each ward, so we extract these pieces of information. A sample of the cleaned dataset for the wards is shown below in Figure 2. 
\vspace{10mm}

```{r}
#| label: cleaned_ward
#| tbl-cap: Sample of cleaned Toronto 25 Ward data
#| echo: false
ward_data <- read_csv("/cloud/project/outputs/data/cleaned_ward_data.csv", show_col_types = FALSE)

ward_data |>
  slice(1:5) |>
  kable(col.names = c("Ward", "Population", "Minority Population", "Income")) |>
  kable_styling(latex_options = c("hold_position"))

```

## Public Art by Ward
As we are interested in the number of public art pieces in each ward, we take the cleaned art data and group the wards together. To better understand our dependent response variable of the number of public art installations by ward, we organize the artworks by ward collect a count. Figure 3 shows the number of art pieces by ward for the 25 wards of Toronto. To better visualize the spread of the number of pieces in each ward, we create a bar graph shown in Figure 4. 

\newpage

```{r}
#| label: art_by_ward
#| tbl-cap: Number of public art installations by ward.
#| echo: false
art_ward_data <- read_csv("/cloud/project/outputs/data/analysis_data.csv", show_col_types = FALSE)

art_ward_data |>
  select(WARD,ward_name, n) |>
  kable(col.names = c("Ward", "Ward Name", "Number of Public Art Pieces")) |>
  kable_styling(latex_options = c("hold_position"))

```

\newpage
```{r}
#| label: art_by_ward_bar
#| tbl-cap: Number of public art installations by ward.
#| echo: false
art_ward_data |>
  ggplot(data = art_ward_data, mapping = aes(x = reorder(WARD, n), y = n)) +
  geom_bar(stat = "identity") +
  theme_light() +
  labs(x = "Ward", y = "Number of Public Art Pieces")

```
From Figure 4, we can see that Ward 10: Spadina-Fort York, Ward 13: Toronto-Centre, and Ward 11: University-Rosedale have the most number of public art installations while Ward 7: Humber River-Black Creek, Ward 9: Davenport, and Ward 1: Etobicoke North have the least number of public art installations. This aligns with intuition and literature regarding the connection between public art and urbanization. The wards with the 

```{r}
library(sf)
#| echo: false

# URL to the zip file
url <- "https://ckan0.cf.opendata.inter.prod-toronto.ca/dataset/5e7a8234-f805-43ac-820f-03d7c360b588/resource/35f67d86-cfc8-4483-8d77-50d035b010d9/download/25-ward-model-december-2018-wgs84-latitude-longitude.zip"

# Temporary file to store the downloaded zip
temp_zip <- tempfile(fileext = ".zip")

# Download the zip file
download.file(url, temp_zip, mode = "wb")

# Unzip the file to a temporary directory
temp_dir <- tempdir()
unzip(temp_zip, exdir = temp_dir)

# Assuming the shapefile is directly in the unzipped folder and has a standard .shp extension
shapefiles <- list.files(temp_dir, pattern = "\\.shp$", full.names = TRUE)

# Read the shapefile (replace 'shapefiles[1]' with the specific file if there are multiple shapefiles)
toronto_map <- st_read(shapefiles[1])

# Clean up the downloaded zip file
unlink(temp_zip)

ggplot(data = toronto_map) +
  geom_sf() +
  theme_minimal()



```
<!-- Talk more about it. -->

<!-- And also planes (@fig-planes). (You can change the height and width, but don't worry about doing that until you have finished every other aspect of the paper - Quarto will try to make it look nice and the defaults usually work well once you have enough text.) -->



<!-- Talk way more about it.  -->




<!-- \newpage -->

<!-- \appendix -->

<!-- # Appendix {-} -->


<!-- # Additional data details -->

<!-- # Model details {#sec-model-details} -->

<!-- ## Posterior predictive check -->

<!-- In @fig-ppcheckandposteriorvsprior-1 we implement a posterior predictive check. This shows... -->

<!-- In @fig-ppcheckandposteriorvsprior-2 we compare the posterior with the prior. This shows...  -->

<!-- ```{r} -->
<!-- #| eval: true -->
<!-- #| echo: false -->
<!-- #| message: false -->
<!-- #| warning: false -->
<!-- #| label: fig-ppcheckandposteriorvsprior -->
<!-- #| layout-ncol: 2 -->
<!-- #| fig-cap: "Examining how the model fits, and is affected by, the data" -->
<!-- #| fig-subcap: ["Posterior prediction check", "Comparing the posterior with the prior"] -->

<!-- pp_check(first_model) + -->
<!--   theme_classic() + -->
<!--   theme(legend.position = "bottom") -->

<!-- posterior_vs_prior(first_model) + -->
<!--   theme_minimal() + -->
<!--   scale_color_brewer(palette = "Set1") + -->
<!--   theme(legend.position = "bottom") + -->
<!--   coord_flip() -->
<!-- ``` -->

<!-- ## Diagnostics -->

<!-- @fig-stanareyouokay-1 is a trace plot. It shows... This suggests... -->

<!-- @fig-stanareyouokay-2 is a Rhat plot. It shows... This suggests... -->

<!-- ```{r} -->
<!-- #| echo: false -->
<!-- #| eval: true -->
<!-- #| message: false -->
<!-- #| warning: false -->
<!-- #| label: fig-stanareyouokay -->
<!-- #| fig-cap: "Checking the convergence of the MCMC algorithm" -->
<!-- #| fig-subcap: ["Trace plot", "Rhat plot"] -->
<!-- #| layout-ncol: 2 -->

<!-- plot(first_model, "trace") -->

<!-- plot(first_model, "rhat") -->
<!-- ``` -->



<!-- \newpage -->


# References


